<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Baphomet Server - ì—…ë°ì´íŠ¸</title>

<style>
    body {
        margin: 0;
        background: #000;
        color: #ddd;
        font-family: "Malgun Gothic", Arial, sans-serif;
        transition: background-image 1s ease-in-out;
    }
    .footer {
        margin-top: 60px;
        padding: 15px 0;
        font-size: 14px;
        color: rgba(230, 230, 230, 0.75);
        text-align: center;
        line-height: 1.4;
    }
    body.loaded {
        background: url('images/background_full.jpg') no-repeat center top;
        background-size: cover;
        background-position-y: 300px;
    }

    /* ìƒë‹¨ ë©”ë‰´ */
    .navbar {
        position: fixed;
        top: 0;
        width: 100%;
        background: rgba(0, 0, 0, 0.55);
        padding: 14px 0;
        border-bottom: 1px solid rgba(255, 0, 0, 0.25);
        z-index: 999;
        text-align: center;
    }
    .navbar a {
        color: #ddd;
        margin: 0 28px;
        font-size: 19px;
        font-weight: bold;
        text-decoration: none;
    }
    .navbar a:hover {
        color: #ff3333;
        border-bottom: 2px solid #ff3333;
        text-shadow: 0 0 8px #ff0000;
    }

    /* ìƒë‹¨ ë°°ë„ˆ ì´ë¯¸ì§€ */
    .header {
        background-image: url('images/baphomet2.jpg');
        background-size: cover;
        background-position: center;
        height: 520px;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
    }

    .header h1 {
        position: relative;
        font-size: 43px;
        font-weight: bold;
        letter-spacing: 4px;
        color: #fff;
        text-shadow: 0 0 10px #000, 0 0 20px #990000;
        top: 60px;
    }

    /* ë³¸ë¬¸ ì˜ì—­ */
    .container {
        width: 1000px;
        margin: 120px auto 70px auto;
        padding-bottom: 100px;
    }

    h2 {
        font-size: 32px;
        color: #ff4444;
        text-align: center;
        margin-bottom: 40px;
        text-shadow: 0 0 10px #900;
    }

    /* ì—…ë°ì´íŠ¸ ë°•ìŠ¤ */
    .update-box {
        background: rgba(0,0,0,0.65);
        border: 1px solid rgba(255,30,30,0.4);
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 18px;
        cursor: pointer;
        position: relative;
        transition: 0.25s;
    }

    .update-box:hover {
        transform: scale(1.02);
        box-shadow: 0 0 20px rgba(255,0,0,0.6);
    }

    .update-title {
        font-size: 22px;
        color: #ffcc00;
    }

    .update-content {
        margin-top: 12px;
        font-size: 18px;
        display: none; /* ê¸°ë³¸ì€ ìˆ¨ê¹€ */
        white-space: pre-line;
    }

    /* ì‚­ì œë²„íŠ¼ */
    .delete-btn {
        position: absolute;
        right: 15px;
        top: 15px;
        background: #880000;
        color: #fff;
        border: 1px solid #ff4444;
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 14px;
        cursor: pointer;
        display: none;
    }

    /* ë²„íŠ¼ */
    .btn-write, .btn-admin {
        margin: 20px auto 0 auto;
        width: 220px;
        padding: 12px;
        background: #660000;
        text-align: center;
        border-radius: 8px;
        cursor: pointer;
        font-size: 18px;
        color: #fff;
        border: 1px solid #ff4444;
        transition: 0.25s;
    }
</style>
</head>

<body>

<script>
    window.addEventListener("load", () => {
        document.body.classList.add("loaded");
        loadUpdates();
    });

    let adminMode = false;

    /* ê´€ë¦¬ì ê¸€ì“°ê¸° */
    function openWritePage() {
        let pw = prompt("ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
        let real = atob("d2pkYWxzcnVkMSE="); // wjdalsrud1!

        if (pw === real) {
            location.href = "update_write.html";
        } else {
            alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
        }
    }

    /* ê´€ë¦¬ìëª¨ë“œ í™œì„±í™” */
    function enableAdminMode() {
        let pw = prompt("ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
        let real = atob("d2pkYWxzcnVkMSE=");

        if (pw !== real) {
            alert("ë¹„ë°€ë²ˆí˜¸ ì˜¤ë¥˜!");
            return;
        }

        adminMode = true;
        document.querySelectorAll(".delete-btn").forEach(btn => btn.style.display = "block");
        alert("ê´€ë¦¬ì ëª¨ë“œ ON");
    }

    /* ì—…ë°ì´íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸° */
    function loadUpdates() {
        let list = JSON.parse(localStorage.getItem("updates") || "[]");

        // ìµœì‹  ë‚ ì§œ ê¸°ì¤€ ì •ë ¬
        list.sort((a,b) => new Date(b.date) - new Date(a.date));

        let container = document.getElementById("updateList");
        container.innerHTML = "";

        list.forEach((u, index) => {
            let box = document.createElement("div");
            box.className = "update-box";

            box.innerHTML = `
                <button class="delete-btn" onclick="deleteUpdate(${index}, event)">ì‚­ì œ</button>
                <div class="update-title">[${u.date}] ${u.title}</div>
                <div class="update-content">${u.content}</div>
            `;

            // ì ‘ê¸°/í¼ì¹˜ê¸°
            box.addEventListener("click", function(e) {
                if (e.target.classList.contains("delete-btn")) return;
                let content = this.querySelector(".update-content");
                content.style.display = content.style.display === "block" ? "none" : "block";
            });

            container.appendChild(box);
        });
    }

    /* ì—…ë°ì´íŠ¸ ì‚­ì œ */
    function deleteUpdate(index, event) {
        event.stopPropagation();
        if (!confirm("ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;

        let list = JSON.parse(localStorage.getItem("updates") || "[]");
        list.splice(index, 1);
        localStorage.setItem("updates", JSON.stringify(list));

        loadUpdates();
    }
</script>

<!-- ìƒë‹¨ ë©”ë‰´ -->
<div class="navbar">
    <a href="index.html">í™ˆ</a>
    <a href="notice.html">ê³µì§€ì‚¬í•­</a>
    <a href="info.html">ì„œë²„ì •ë³´</a>
    <a href="update.html">ì—…ë°ì´íŠ¸</a>
    <a href="boss.html">ë³´ìŠ¤ì •ë³´</a>
    <a href="promo.html">í™ë³´ì•ˆë‚´</a>
    <a href="service.html">ê³ ê°ì„¼í„°</a>
    <a href="download.html">ë‹¤ìš´ë¡œë“œ</a>
</div>

<!-- ìƒë‹¨ ë°°ë„ˆ -->
<div class="header">
    <h1>UPDATE</h1>
</div>

<!-- ë³¸ë¬¸ -->
<div class="container">
    <h2>ğŸ“¢ ìµœì‹  ì—…ë°ì´íŠ¸</h2>

    <!-- ì—…ë°ì´íŠ¸ ë¦¬ìŠ¤íŠ¸ ìë™ ì¶œë ¥ -->
    <div id="updateList"></div>

    <!-- ê¸€ì“°ê¸° ë²„íŠ¼ -->
    <div class="btn-write" onclick="openWritePage()">ì—…ë°ì´íŠ¸ ì‘ì„±í•˜ê¸°</div>

    <!-- ê´€ë¦¬ì ëª¨ë“œ ë²„íŠ¼ -->
    <div class="btn-admin" onclick="enableAdminMode()">ê´€ë¦¬ì ëª¨ë“œ(ì‚­ì œ)</div>
</div>

<div class="footer">
    ì„œë²„ì˜ ëª¨ë“  ì €ì‘ê¶Œì€ NCì†Œí”„íŠ¸ì— ìˆìœ¼ë©°, ë¦¬ë‹ˆì§€ ê°œë°œê³¼ ë°œì „, ì»¤ë®¤ë‹ˆí‹°ë¥¼ ìœ„í•œ ì„œë²„ì…ë‹ˆë‹¤.<br>
    ê²Œì„ì‚¬ì˜ ìš”ì²­ ì‹œ ì„œë²„ëŠ” ì–¸ì œë“ ì§€ ì¤‘ë‹¨ë  ìˆ˜ ìˆìŒì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.
</div>

</body>
</html>
