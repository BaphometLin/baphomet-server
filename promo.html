<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>í™ë³´ì•ˆë‚´ - Baphomet Server</title>

<style>
    /* ğŸ”¥ ì „ì²´ í˜ì´ì§€ ê³ ì • ë°°ê²½ */
    html {
        background: url('images/background_full.jpg') no-repeat center top;
        background-size: cover;
        background-attachment: fixed;
    }

    body {
        margin: 0;
        background: transparent;
        color: #ddd;
        font-family: "Malgun Gothic", Arial, sans-serif;
    }

    /* í™”ë©´ ì „ì²´ ì–´ë‘ìš´ ë ˆì´ì–´ */
    body::before {
        content: "";
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.15);
        pointer-events: none;
        z-index: 0;
    }

    /* -------------------------
       ìƒë‹¨ ë©”ë‰´
    ------------------------- */
    .navbar {
        position: fixed;
        top: 0;
        width: 100%;
        padding: 14px 0;
        background: rgba(0,0,0,0.55);
        border-bottom: 1px solid rgba(255,0,0,0.25);
        text-align: center;
        z-index: 999;
        backdrop-filter: blur(4px);
    }

    .navbar a {
        color: #ddd;
        margin: 0 28px;
        font-size: 19px;
        font-weight: bold;
        text-decoration: none;
        transition: 0.25s;
    }

    .navbar a:hover {
        color: #ff4d4d;
        border-bottom: 2px solid #ff4d4d;
        text-shadow: 0 0 12px #ff0000;
    }

    /* -------------------------
       ìƒë‹¨ ë°°ë„ˆ
    ------------------------- */
    .header {
        height: 520px;
        background: url('images/baphomet2.jpg') no-repeat center center/cover;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
    }

    .header::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(0,0,0,0.22);
    }

    .header::after {
        content: "";
        position: absolute;
        bottom: -1px;
        left: 0;
        width: 100%;
        height: 380px;
        background: linear-gradient(
            to bottom,
            rgba(0,0,0,0) 0%,
            rgba(0,0,0,0.32) 35%,
            rgba(0,0,0,0.65) 70%,
            rgba(0,0,0,0.95) 100%
        );
    }

    .header h1 {
        position: relative;
        color: #fff;
        font-size: 45px;
        font-weight: bold;
        text-shadow: 0 0 12px #000, 0 0 18px #a00000;
        top: 60px;
        letter-spacing: 4px;
    }

    /* -------------------------
       ë‚´ìš© ì»¨í…Œì´ë„ˆ
    ------------------------- */
    .container {
        width: 860px;
        margin: 120px auto 70px auto;
        background: rgba(0,0,0,0.78);
        padding: 45px 50px;
        border: 1px solid rgba(255,0,0,0.35);
        border-radius: 12px;
        box-shadow: 0 0 20px rgba(255,0,0,0.25);
        line-height: 1.65;
        font-size: 18px;
        position: relative;
        z-index: 5;
    }

    h2 {
        margin-top: 35px;
        margin-bottom: 15px;
        color: #ff4d4d;
        font-size: 26px;
        padding-bottom: 8px;
        border-bottom: 1px solid rgba(255, 0, 0, 0.28);
    }

    /* -------------------------
       í™ë³´ ì‚¬ì´íŠ¸ ë²„íŠ¼
    ------------------------- */
    .site-buttons {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 14px;
        margin-top: 25px;
    }

    .site-btn {
        width: 175px;
        padding: 13px 0;
        background: #1b1b1b;
        border: 1px solid #444;
        border-radius: 8px;
        text-align: center;
        font-size: 17px;
        transition: 0.18s;
    }

    .site-btn a {
        color: #e0e0e0;
        text-decoration: none;
    }

    .site-btn:hover {
        background: #2d2d2d;
        border-color: #ff4d4d;
        transform: translateY(-2px);
        box-shadow: 0 0 12px rgba(255, 0, 0, 0.35);
    }

    /* -------------------------
       ë³µì‚¬ ë²„íŠ¼
    ------------------------- */
    .copy-btn {
        margin: 30px auto;
        width: 250px;
        padding: 14px 0;
        background: #202020;
        border: 1px solid #555;
        border-radius: 8px;
        font-size: 18px;
        text-align: center;
        cursor: pointer;
        transition: 0.18s;
    }

    .copy-btn:hover {
        background: #2f2f2f;
        border-color: #ff4d4d;
        box-shadow: 0 0 12px rgba(255,0,0,0.35);
    }

    /* ğŸ”¥ í™ë³´ê¸€ ë°•ìŠ¤ */
    .promo-box {
        margin-top: 20px;
        padding: 20px;
        background: rgba(30, 30, 30, 0.8);
        border: 1px solid rgba(255,0,0,0.3);
        border-radius: 10px;
        line-height: 1.7;
        white-space: pre-line;
        cursor: pointer;
        font-size: 17px;
        color: #eee;
        user-select: none;
    }

    .promo-box:hover {
        background: rgba(40,40,40,0.85);
        box-shadow: 0 0 12px rgba(255,0,0,0.35);
    }

    /* -------------------------
       í•˜ë‹¨ ì•ˆë‚´
    ------------------------- */
    .footer {
        margin-top: 60px;
        padding: 15px 0;
        font-size: 14px;
        text-align: center;
        color: rgba(230,230,230,0.75);
        line-height: 1.4;
    }

    /* ê´€ë¦¬ì ë°” */
    #adminLoginBar {
        text-align: right;
        margin: 12px 25px;
    }
</style>
</head>

<body>

<!-- ğŸ”¥ ê´€ë¦¬ì ë¡œê·¸ì¸ ë²„íŠ¼ -->
<div id="adminLoginBar">
    <button onclick="showAdminLogin()" style="padding:5px 12px; font-size:14px;">ê´€ë¦¬ì ë¡œê·¸ì¸</button>
</div>

<!-- ë©”ë‰´ -->
<div class="navbar">
    <a href="index.html">í™ˆ</a>
    <a href="notice.html">ê³µì§€ì‚¬í•­</a>
    <a href="info.html">ì„œë²„ì •ë³´</a>
    <a href="update.html">ì—…ë°ì´íŠ¸</a>
    <a href="boss.html">ë³´ìŠ¤ì •ë³´</a>
    <a href="promo.html" style="color:#ff4d4d; border-bottom:2px solid #ff4d4d;">í™ë³´ì•ˆë‚´</a>
    <a href="service.html">ê³ ê°ì„¼í„°</a>
    <a href="download.html">ë‹¤ìš´ë¡œë“œ</a>
</div>

<!-- ìƒë‹¨ ë°°ë„ˆ -->
<div class="header">
    <h1>í™ë³´ì•ˆë‚´</h1>
</div>

<!-- ë³¸ë¬¸ -->
<div class="container">

    <h2>í™ë³´ ì‚¬ì´íŠ¸</h2>

    <div class="site-buttons">
        <div class="site-btn"><a href="https://todaycp.com/" target="_blank">íˆ¬ë°ì´</a></div>
        <div class="site-btn"><a href="https://todaync.com/" target="_blank">íˆ¬ë°ì´2</a></div>
        <div class="site-btn"><a href="https://linfree.net/01" target="_blank">ë¦°í”„ë¦¬</a></div>
        <div class="site-btn"><a href="https://freebene.com/lineage" target="_blank">í”„ë¦¬ë² ë„¤</a></div>
        <div class="site-btn"><a href="https://linfreemoa.com/bbs/board.php?bo_table=adult" target="_blank">ë¦°ëª¨ì•„</a></div>
        <div class="site-btn"><a href="https://uami5.net/" target="_blank">ìš°ì•„ë¯¸</a></div>
        <div class="site-btn"><a href="https://oraksil.cc/bbs/board.php?bo_table=lin" target="_blank">íˆ¬ë°ì´í”„ë¦¬</a></div>
        <div class="site-btn"><a href="https://todaypop.net/freeboard" target="_blank">íŒë¦¬ë‹ˆì§€</a></div>
        <div class="site-btn"><a href="https://99daily.org/" target="_blank">ë¦°ì»¤ë®¤</a></div>
        <div class="site-btn"><a href="https://world-free.xyz/board2" target="_blank">ì›”ë“œí”„ë¦¬</a></div>
        <div class="site-btn"><a href="https://lintodays.com/" target="_blank">ë¦°íˆ¬ë°ì´</a></div>
    </div>

    <h2>í™ë³´ ë³´ìƒ</h2>
    <p>
        âœ” ê²Œì„ ë‚´ ê³µì§€ ë˜ëŠ” ì„œë²„ ë‹¨í†¡ë°©ì—ì„œ í™•ì¸<br>
        âœ” ìë™ì‚¬ëƒ¥ì´ìš©ê¶Œ + ì•ŒíŒŒ<br>
        â€» ë³´ìƒì€ ë³€ë™ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </p>

    <!-- ë³µì‚¬ ë²„íŠ¼ -->
    <div class="copy-btn" onclick="copyPromo()">í™ë³´ë‚´ìš© ë³µì‚¬</div>

    <!-- ğŸ”¥ í™ë³´ ë‚´ìš© ë°•ìŠ¤ -->
    <div id="promoText" class="promo-box">
        ğŸ”„ ë¡œë”© ì¤‘...
    </div>

    <!-- ê´€ë¦¬ì í™ë³´ê¸€ í¸ì§‘ ì˜ì—­ -->
    <div id="adminEditor" style="display:none; margin-top:40px;">
        <h2 style="color:#ff4d4d;">ğŸ”§ ê´€ë¦¬ì ì „ìš© í™ë³´ê¸€ í¸ì§‘</h2>
        <textarea id="promoEditor" style="width:100%; height:300px; font-size:16px; padding:10px;"></textarea>

        <button onclick="savePromo()" style="margin-top:10px; padding:10px 20px; font-size:16px;">í™”ë©´ì— ì ìš©</button>

        <button onclick="saveToGithub()" id="saveGithubBtn"
                style="margin-top:10px; padding:10px 20px; font-size:16px; display:none; background:#225588; color:white;">
            ğŸ”¥ GitHub ë°˜ì˜í•˜ê¸°
        </button>
    </div>

</div>

<div class="footer">
    ì„œë²„ì˜ ëª¨ë“  ì €ì‘ê¶Œì€ NCSoftì— ìˆìœ¼ë©°, ë³¸ ì„œë²„ëŠ” ì»¤ë®¤ë‹ˆí‹° ë° ê°œë°œ ì—°êµ¬ ëª©ì ì…ë‹ˆë‹¤.<br>
    ê²Œì„ì‚¬ì˜ ìš”ì²­ ì‹œ ì„œë²„ëŠ” ì–¸ì œë“ ì§€ ì¤‘ë‹¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</div>

<script>
/* ğŸ”¥ promo.txt ë¶ˆëŸ¬ì˜¤ê¸° */
async function loadPromo() {
    try {
        const res = await fetch("promo.txt?cache=" + Date.now());
        const text = await res.text();
        document.getElementById("promoText").innerText = text;
    } catch (e) {
        document.getElementById("promoText").innerText = "ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨!";
    }
}
loadPromo();

/* ğŸ”¥ í´ë¦­ ì‹œ ì „ì²´ ì„ íƒ */
function selectText(id) {
    const element = document.getElementById(id);
    const range = document.createRange();
    range.selectNodeContents(element);
    const selection = window.getSelection();
    selection.removeAllRanges();
    selection.addRange(range);
}

/* ğŸ”¥ ë³µì‚¬í•˜ê¸° */
function copyPromo() {
    const text = document.getElementById("promoText").innerText;
    navigator.clipboard.writeText(text).then(() => {
        alert("í™ë³´ë‚´ìš©ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
    });
}

/* ê´€ë¦¬ì ì‹œìŠ¤í…œ */
let isAdmin = false;
let githubToken = null;

/* ğŸ” ê´€ë¦¬ì ë¡œê·¸ì¸ */
function showAdminLogin() {
    const pw = prompt("ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
    if (pw === "bapo1234") {
        alert("ê´€ë¦¬ì ëª¨ë“œ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.");
        isAdmin = true;
        enableAdminMode();

        githubToken = prompt("GitHub Tokenì„ ì…ë ¥í•˜ì„¸ìš”.\n(â€» ì…ë ¥í•˜ë©´ ìë™ ì €ì¥ í™œì„±í™”)");
        if (githubToken) {
            document.getElementById("saveGithubBtn").style.display = "inline-block";
        }

    } else {
        alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
    }
}

/* ê´€ë¦¬ì ëª¨ë“œ í™œì„±í™” */
function enableAdminMode() {
    document.getElementById("adminEditor").style.display = "block";
    document.getElementById("promoEditor").value =
        document.getElementById("promoText").innerText;
}

/* ğŸ”¥ í™”ë©´ì— ì¦‰ì‹œ ë°˜ì˜ */
function savePromo() {
    const newText = document.getElementById("promoEditor").value;
    document.getElementById("promoText").innerText = newText;
    alert("í™”ë©´ì— ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.\n(GitHub ë°˜ì˜í•´ì•¼ ëª¨ë“  ìœ ì €ê°€ ë´…ë‹ˆë‹¤)");
}

/* ğŸ”¥ğŸ”¥ GitHubì— ì €ì¥ */
async function saveToGithub() {
    if (!githubToken) {
        alert("Token ì—†ìŒ! ê´€ë¦¬ì ë¡œê·¸ì¸ ë‹¤ì‹œ í•˜ì„¸ìš”.");
        return;
    }

    const apiUrl = "https://api.github.com/repos/BaphometLin/baphomet-server/contents/promo.txt";
    const newContent = document.getElementById("promoEditor").value;

    // 1) SHA ê°€ì ¸ì˜¤ê¸°
    const getFile = await fetch(apiUrl, {
        headers: { "Authorization": `token ${githubToken}` }
    });
    const fileData = await getFile.json();
    const sha = fileData.sha;

    // 2) ì—…ë¡œë“œ
    const upload = await fetch(apiUrl, {
        method: "PUT",
        headers: {
            "Authorization": `token ${githubToken}`,
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            message: "Update promo.txt via web admin",
            content: btoa(unescape(encodeURIComponent(newContent))),
            sha: sha
        })
    });

    if (upload.ok) {
        alert("ğŸ‰ GitHub ì €ì¥ ì™„ë£Œ!\n10~30ì´ˆ í›„ ëª¨ë“  ìœ ì €ì—ê²Œ ë°˜ì˜ë©ë‹ˆë‹¤.");
    } else {
        alert("âŒ ì €ì¥ ì‹¤íŒ¨! Token ë˜ëŠ” ê²½ë¡œë¥¼ í™•ì¸í•˜ì„¸ìš”.");
    }
}
</script>

</body>
</html>
