<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>í™ë³´ì•ˆë‚´ - Baphomet Server</title>

<style>
    /* ğŸ”¥ ì „ì²´ í˜ì´ì§€ ê³ ì • ë°°ê²½ */
    html {
        background: url('images/background_full.jpg') no-repeat center top;
        background-size: cover;
        background-attachment: fixed;
    }

    body {
        margin: 0;
        background: transparent;
        color: #ddd;
        font-family: "Malgun Gothic", Arial, sans-serif;
    }

    body::before {
        content: "";
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.15);
        pointer-events: none;
        z-index: 0;
    }

    .navbar {
        position: fixed;
        top: 0;
        width: 100%;
        padding: 14px 0;
        background: rgba(0,0,0,0.55);
        border-bottom: 1px solid rgba(255,0,0,0.25);
        text-align: center;
        z-index: 999;
        backdrop-filter: blur(4px);
    }

    .navbar a {
        color: #ddd;
        margin: 0 28px;
        font-size: 19px;
        font-weight: bold;
        text-decoration: none;
        transition: 0.25s;
    }

    .navbar a:hover {
        color: #ff4d4d;
        border-bottom: 2px solid #ff4d4d;
        text-shadow: 0 0 12px #ff0000;
    }

    .header {
        height: 520px;
        background: url('images/baphomet2.jpg') no-repeat center center/cover;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
    }

    .header::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(0,0,0,0.22);
    }

    .header::after {
        content: "";
        position: absolute;
        bottom: -1px;
        left: 0;
        width: 100%;
        height: 380px;
        background: linear-gradient(
            to bottom,
            rgba(0,0,0,0) 0%,
            rgba(0,0,0,0.32) 35%,
            rgba(0,0,0,0.65) 70%,
            rgba(0,0,0,0.95) 100%
        );
    }

    .header h1 {
        position: relative;
        color: #fff;
        font-size: 45px;
        font-weight: bold;
        text-shadow: 0 0 12px #000, 0 0 18px #a00000;
        top: 60px;
        letter-spacing: 4px;
    }

    .container {
        width: 860px;
        margin: 120px auto 70px auto;
        background: rgba(0,0,0,0.78);
        padding: 45px 50px;
        border: 1px solid rgba(255,0,0,0.35);
        border-radius: 12px;
        box-shadow: 0 0 20px rgba(255,0,0,0.25);
        line-height: 1.65;
        font-size: 18px;
        position: relative;
        z-index: 5;
    }

    h2 {
        margin-top: 35px;
        margin-bottom: 15px;
        color: #ff4d4d;
        font-size: 26px;
        padding-bottom: 8px;
        border-bottom: 1px solid rgba(255, 0, 0, 0.28);
    }

    .site-buttons {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 14px;
        margin-top: 25px;
    }

    .site-btn {
        width: 175px;
        padding: 13px 0;
        background: #1b1b1b;
        border: 1px solid #444;
        border-radius: 8px;
        text-align: center;
        font-size: 17px;
        transition: 0.18s;
    }

    .site-btn a {
        color: #e0e0e0;
        text-decoration: none;
    }

    .site-btn:hover {
        background: #2d2d2d;
        border-color: #ff4d4d;
        transform: translateY(-2px);
        box-shadow: 0 0 12px rgba(255, 0, 0, 0.35);
    }

    .copy-btn {
        margin: 30px auto;
        width: 250px;
        padding: 14px 0;
        background: #202020;
        border: 1px solid #555;
        border-radius: 8px;
        font-size: 18px;
        text-align: center;
        cursor: pointer;
        transition: 0.18s;
    }

    .copy-btn:hover {
        background: #2f2f2f;
        border-color: #ff4d4d;
        box-shadow: 0 0 12px rgba(255,0,0,0.35);
    }

    .promo-box {
        margin-top: 20px;
        padding: 20px;
        background: rgba(30, 30, 30, 0.8);
        border: 1px solid rgba(255,0,0,0.3);
        border-radius: 10px;
        line-height: 1.7;
        white-space: pre-line;
        cursor: pointer;
        font-size: 17px;
        color: #eee;
        user-select: none;
    }

    .promo-box:hover {
        background: rgba(40,40,40,0.85);
        box-shadow: 0 0 12px rgba(255,0,0,0.35);
    }

    .footer {
        margin-top: 60px;
        padding: 15px 0;
        font-size: 14px;
        text-align: center;
        color: rgba(230,230,230,0.75);
        line-height: 1.4;
    }

    #adminLoginBar {
        text-align: right;
        margin: 12px 25px;
    }
</style>
</head>

<body>

<div id="adminLoginBar">
    <button onclick="showAdminLogin()" style="padding:5px 12px; font-size:14px;">ê´€ë¦¬ì ë¡œê·¸ì¸</button>
</div>

<div class="navbar">
    <a href="index.html">í™ˆ</a>
    <a href="notice.html">ê³µì§€ì‚¬í•­</a>
    <a href="info.html">ì„œë²„ì •ë³´</a>
    <a href="update.html">ì—…ë°ì´íŠ¸</a>
    <a href="boss.html">ë³´ìŠ¤ì •ë³´</a>
    <a href="promo.html" style="color:#ff4d4d; border-bottom:2px solid #ff4d4d;">í™ë³´ì•ˆë‚´</a>
    <a href="service.html">ê³ ê°ì„¼í„°</a>
    <a href="download.html">ë‹¤ìš´ë¡œë“œ</a>
</div>

<div class="header">
    <h1>í™ë³´ì•ˆë‚´</h1>
</div>

<div class="container">

    <h2>í™ë³´ ì‚¬ì´íŠ¸</h2>

    <div class="site-buttons">
        <div class="site-btn"><a href="https://todaycp.com/" target="_blank">íˆ¬ë°ì´</a></div>
        <div class="site-btn"><a href="https://todaync.com/" target="_blank">íˆ¬ë°ì´2</a></div>
        <div class="site-btn"><a href="https://linfree.net/01" target="_blank">ë¦°í”„ë¦¬</a></div>
        <div class="site-btn"><a href="https://freebene.com/lineage" target="_blank">í”„ë¦¬ë² ë„¤</a></div>
        <div class="site-btn"><a href="https://linfreemoa.com/bbs/board.php?bo_table=adult" target="_blank">ë¦°ëª¨ì•„</a></div>
        <div class="site-btn"><a href="https://uami5.net/" target="_blank">ìš°ì•„ë¯¸</a></div>
        <div class="site-btn"><a href="https://oraksil.cc/bbs/board.php?bo_table=lin" target="_blank">íˆ¬ë°ì´í”„ë¦¬</a></div>
        <div class="site-btn"><a href="https://todaypop.net/freeboard" target="_blank">íŒë¦¬ë‹ˆì§€</a></div>
        <div class="site-btn"><a href="https://99daily.org/" target="_blank">ë¦°ì»¤ë®¤</a></div>
        <div class="site-btn"><a href="https://world-free.xyz/board2" target="_blank">ì›”ë“œí”„ë¦¬</a></div>
        <div class="site-btn"><a href="https://lintodays.com/" target="_blank">ë¦°íˆ¬ë°ì´</a></div>
    </div>

    <h2>í™ë³´ ë³´ìƒ</h2>
    <p>
        âœ” ê²Œì„ ë‚´ ê³µì§€ ë˜ëŠ” ì„œë²„ ë‹¨í†¡ë°©ì—ì„œ í™•ì¸<br>
        âœ” ìë™ì‚¬ëƒ¥ì´ìš©ê¶Œ + ì•ŒíŒŒ<br>
        â€» ë³´ìƒì€ ë³€ë™ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </p>

    <div class="copy-btn" onclick="copyPromo()">í™ë³´ë‚´ìš© ë³µì‚¬</div>

    <!-- ğŸ”¥ ì„œë²„ì—ì„œ ë¶ˆëŸ¬ì˜¬ ì˜ì—­ -->
    <div id="promoText" class="promo-box">
        ğŸ”„ í™ë³´ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦
    </div>

    <!-- ê´€ë¦¬ì í¸ì§‘ ì˜ì—­ -->
    <div id="adminEditor" style="display:none; margin-top:40px;">
        <h2 style="color:#ff4d4d;">ğŸ”§ ê´€ë¦¬ì ì „ìš© í™ë³´ê¸€ í¸ì§‘</h2>
        <textarea id="promoEditor" style="width:100%; height:300px; font-size:16px; padding:10px;"></textarea>

        <button onclick="savePromo()" style="margin-top:10px; padding:10px 20px; font-size:16px;">
            í™”ë©´ì—ë§Œ ì €ì¥
        </button>

        <button onclick="saveToGithub()" id="saveGithubBtn"
            style="margin-top:10px; padding:10px 20px; font-size:16px; background:#225588; color:white;">
            ğŸ”¥ GitHubì— ë°˜ì˜í•˜ê¸°
        </button>
    </div>

</div>

<div class="footer">
    ì„œë²„ì˜ ëª¨ë“  ì €ì‘ê¶Œì€ NCSoftì— ìˆìœ¼ë©°, ë³¸ ì„œë²„ëŠ” ì»¤ë®¤ë‹ˆí‹° ë° ê°œë°œ ì—°êµ¬ ëª©ì ì…ë‹ˆë‹¤.<br>
    ê²Œì„ì‚¬ì˜ ìš”ì²­ ì‹œ ì„œë²„ëŠ” ì–¸ì œë“ ì§€ ì¤‘ë‹¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</div>

<script>
let isAdmin = false;
let githubToken = null;

/* ğŸ”¥ í˜ì´ì§€ ë¡œë”© ì‹œ promo.txt ê°€ì ¸ì˜¤ê¸° */
async function loadPromoText() {
    try {
        const res = await fetch("https://raw.githubusercontent.com/baphometlin/baphomet-server/main/promo.txt");
        const text = await res.text();
        document.getElementById("promoText").innerText = text;
    } catch {
        document.getElementById("promoText").innerText = "âš ï¸ í™ë³´ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
    }
}
loadPromoText();

/* ì „ì²´ ì„ íƒ */
function selectText(id) {
    const range = document.createRange();
    range.selectNodeContents(document.getElementById(id));
    const sel = window.getSelection();
    sel.removeAllRanges();
    sel.addRange(range);
}

/* ë³µì‚¬í•˜ê¸° */
function copyPromo() {
    navigator.clipboard.writeText(document.getElementById("promoText").innerText)
        .then(() => alert("í™ë³´ë‚´ìš©ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!"));
}

/* ê´€ë¦¬ì ë¡œê·¸ì¸ */
function showAdminLogin() {
    const pw = prompt("ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
    if (pw !== "bapo1234") {
        alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
        return;
    }

    isAdmin = true;
    document.getElementById("adminEditor").style.display = "block";

    githubToken = prompt("GitHub Tokenì„ ì…ë ¥í•˜ì„¸ìš”.\n(â€» Tokenì€ ì €ì¥ë˜ì§€ ì•Šìœ¼ë©° ì¦‰ì‹œ ì‚¬ìš© í›„ íê¸°ë©ë‹ˆë‹¤.)");

    const currentText = document.getElementById("promoText").innerText;
    document.getElementById("promoEditor").value = currentText;
}

/* í™”ë©´ì—ë§Œ ì €ì¥ */
function savePromo() {
    if (!isAdmin) return;

    const newText = document.getElementById("promoEditor").value;
    document.getElementById("promoText").innerText = newText;

    alert("í™”ë©´ì—ë§Œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\n(ëª¨ë“  ìœ ì €ì—ê²Œ ì ìš©í•˜ë ¤ë©´ GitHub ë°˜ì˜í•˜ê¸°ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”.)");
}

/* ğŸ”¥ GitHubì— promo.txt ì—…ë¡œë“œ */
async function saveToGithub() {
    if (!githubToken) {
        alert("GitHub Tokenì´ ì—†ìŠµë‹ˆë‹¤!");
        return;
    }

    const newText = document.getElementById("promoEditor").value;

    const apiUrl = "https://api.github.com/repos/baphometlin/baphomet-server/contents/promo.txt";

    // SHA ê°€ì ¸ì˜¤ê¸°
    const getRes = await fetch(apiUrl, {
        headers: { "Authorization": `token ${githubToken}` }
    });
    const fileData = await getRes.json();
    const sha = fileData.sha;

    // ì—…ë°ì´íŠ¸ ìš”ì²­
    const uploadRes = await fetch(apiUrl, {
        method: "PUT",
        headers: {
            "Authorization": `token ${githubToken}`,
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            message: "Update promo.txt",
            content: btoa(unescape(encodeURIComponent(newText))),
            sha: sha
        })
    });

    if (uploadRes.ok) {
        alert("ğŸ‰ GitHub ë°˜ì˜ ì™„ë£Œ!\nëª¨ë“  ìœ ì €ì—ê²Œ ì¦‰ì‹œ ì ìš©ë©ë‹ˆë‹¤.");
    } else {
        alert("âŒ GitHub ì €ì¥ ì‹¤íŒ¨! Token ë˜ëŠ” ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”.");
    }
}
</script>

</body>
</html>
